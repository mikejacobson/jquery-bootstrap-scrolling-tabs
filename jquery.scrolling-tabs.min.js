/**
 * jquery-bootstrap-scrolling-tabs
 * @version v0.0.5
 * @link https://github.com/mikejacobson/jquery-bootstrap-scrolling-tabs
 * @author Mike Jacobson <michaeljjacobson1@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(e,h){var a={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown",EVENTS:{FORCE_REFRESH:"forcerefresh.scrtabs",WINDOW_RESIZE:"resize.scrtabs"}};(function(v){var u=function(z,w,x){var A;return function y(){var D=this,C=arguments;function B(){if(!x){z.apply(D,C)}A=null}if(A){clearTimeout(A)}else{if(x){z.apply(D,C)}}A=setTimeout(B,w||100)}};e.fn[v]=function(w){return w?this.bind(a.EVENTS.WINDOW_RESIZE,u(w)):this.trigger(v)}})("smartresize");function d(v){var u=this;u.stc=v}(function(u){u.initElements=function(w){var v=this;v.setElementReferences();if(w.isWrappingAngularUITabset){v.moveTabContentOutsideScrollContainer(w)}v.setEventListeners()};u.moveTabContentOutsideScrollContainer=function(C){var z=this,x=z.stc,v=x.$tabsContainer,D="scrtabs-tab-content-clone",y="scrtabs-tab-content-hidden",B=v.find(".tab-content").not("."+D),w,A;if(!C.isWatchingTabs){B.appendTo(v);return}if(!B.hasClass(y)){B.addClass(y)}A=B.clone().removeClass(y).addClass(D);w=v.find("."+D);if(w.length){w.replaceWith(A)}else{v.append(A)}};u.refreshAllElementSizes=function(){var v=this,y=v.stc,x=y.scrollMovement,z=y.scrollArrowsVisible,A={didScrollToActiveTab:false},w;v.setElementWidths();v.setScrollArrowVisibility();if(y.scrollArrowsVisible){v.setFixedContainerWidthForJustVisibleScrollArrows()}if(y.scrollArrowsVisible||z){if(y.scrollArrowsVisible){w=x.getMinPos();if(y.movableContainerLeftPos<w){x.incrementScrollRight(w)}else{x.scrollToActiveTab({isOnWindowResize:true});A.didScrollToActiveTab=true}}else{y.movableContainerLeftPos=0;x.slideMovableContainerToLeftPos()}}return A};u.setElementReferences=function(){var w=this,x=w.stc,v=x.$tabsContainer;x.isNavPills=false;x.$fixedContainer=v.find(".scrtabs-tabs-fixed-container");x.$movableContainer=v.find(".scrtabs-tabs-movable-container");x.$tabsUl=v.find(".nav-tabs");if(!x.$tabsUl.length){x.$tabsUl=v.find(".nav-pills");if(x.$tabsUl.length){x.isNavPills=true}}x.$tabsLiCollection=x.$tabsUl.find("> li");x.$leftScrollArrow=v.find(".scrtabs-js-tab-scroll-arrow-left");x.$rightScrollArrow=v.find(".scrtabs-js-tab-scroll-arrow-right");x.$scrollArrows=x.$leftScrollArrow.add(x.$rightScrollArrow);x.$win=e(h)};u.setElementWidths=function(){var v=this,w=v.stc;w.containerWidth=w.$tabsContainer.outerWidth();w.winWidth=w.$win.width();w.scrollArrowsCombinedWidth=w.$leftScrollArrow.outerWidth()+w.$rightScrollArrow.outerWidth();v.setFixedContainerWidth();v.setMovableContainerWidth()};u.setEventListeners=function(){var v=this,x=v.stc,w=x.eventHandlers;x.$leftScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(y){w.handleMousedownOnLeftScrollArrow.call(w,y)},"mouseup.scrtabs":function(y){w.handleMouseupOnLeftScrollArrow.call(w,y)},"click.scrtabs":function(y){w.handleClickOnLeftScrollArrow.call(w,y)}});x.$rightScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(y){w.handleMousedownOnRightScrollArrow.call(w,y)},"mouseup.scrtabs":function(y){w.handleMouseupOnRightScrollArrow.call(w,y)},"click.scrtabs":function(y){w.handleClickOnRightScrollArrow.call(w,y)}});x.$win.smartresize(function(y){w.handleWindowResize.call(w,y)});e("body").on(a.EVENTS.FORCE_REFRESH,x.elementsHandler.refreshAllElementSizes.bind(x.elementsHandler))};u.setFixedContainerWidth=function(){var v=this,w=v.stc;w.$fixedContainer.width(w.fixedContainerWidth=w.$tabsContainer.outerWidth())};u.setFixedContainerWidthForJustHiddenScrollArrows=function(){var v=this,w=v.stc;w.$fixedContainer.width(w.fixedContainerWidth)};u.setFixedContainerWidthForJustVisibleScrollArrows=function(){var v=this,w=v.stc;w.$fixedContainer.width(w.fixedContainerWidth-w.scrollArrowsCombinedWidth)};u.setMovableContainerWidth=function(){var v=this,x=v.stc,w=x.$tabsUl.find("li");x.movableContainerWidth=0;if(w.length){w.each(function y(){var A=e(this),z=0;if(x.isNavPills){z=parseInt(A.css("margin-left"),10)+parseInt(A.css("margin-right"),10)}x.movableContainerWidth+=(A.outerWidth()+z)});x.movableContainerWidth+=1;if(x.movableContainerWidth<x.fixedContainerWidth){x.movableContainerWidth=x.fixedContainerWidth}}x.$movableContainer.width(x.movableContainerWidth)};u.setScrollArrowVisibility=function(){var v=this,w=v.stc,x=w.movableContainerWidth>w.fixedContainerWidth;if(x&&!w.scrollArrowsVisible){w.$scrollArrows.show();w.scrollArrowsVisible=true;v.setFixedContainerWidthForJustVisibleScrollArrows()}else{if(!x&&w.scrollArrowsVisible){w.$scrollArrows.hide();w.scrollArrowsVisible=false;v.setFixedContainerWidthForJustHiddenScrollArrows()}}}}(d.prototype));function t(v){var u=this;u.stc=v}(function(u){u.handleClickOnLeftScrollArrow=function(x){var w=this,v=w.stc;v.scrollMovement.incrementScrollLeft()};u.handleClickOnRightScrollArrow=function(y){var w=this,v=w.stc,x=v.scrollMovement;x.incrementScrollRight(x.getMinPos())};u.handleMousedownOnLeftScrollArrow=function(x){var w=this,v=w.stc;v.scrollMovement.startScrollLeft()};u.handleMousedownOnRightScrollArrow=function(x){var w=this,v=w.stc;v.scrollMovement.startScrollRight()};u.handleMouseupOnLeftScrollArrow=function(x){var w=this,v=w.stc;
v.scrollMovement.stopScrollLeft()};u.handleMouseupOnRightScrollArrow=function(x){var w=this,v=w.stc;v.scrollMovement.stopScrollRight()};u.handleWindowResize=function(y){var w=this,v=w.stc,x=v.$win.width();if(x===v.winWidth){return false}v.winWidth=x;v.elementsHandler.refreshAllElementSizes()}}(t.prototype));function g(v){var u=this;u.stc=v}(function(u){u.continueScrollLeft=function(){var w=this,v=w.stc;setTimeout(function(){if(v.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN)&&(v.movableContainerLeftPos<0)){if(!w.incrementScrollLeft()){w.continueScrollLeft()}}},a.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};u.continueScrollRight=function(v){var x=this,w=x.stc;setTimeout(function(){if(w.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN)&&(w.movableContainerLeftPos>v)){if(!x.incrementScrollRight(v)){x.continueScrollRight(v)}}},a.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};u.decrementMovableContainerLeftPos=function(v){var x=this,w=x.stc;w.movableContainerLeftPos-=(w.fixedContainerWidth/a.SCROLL_OFFSET_FRACTION);if(w.movableContainerLeftPos<v){w.movableContainerLeftPos=v}else{if(w.scrollToTabEdge){x.setMovableContainerLeftPosToTabEdge("right");if(w.movableContainerLeftPos<v){w.movableContainerLeftPos=v}}}};u.getMinPos=function(){var w=this,v=w.stc;return v.scrollArrowsVisible?(v.fixedContainerWidth-v.movableContainerWidth-v.scrollArrowsCombinedWidth):0};u.getMovableContainerCssLeftVal=function(){var w=this,v=w.stc;return(v.movableContainerLeftPos===0)?"0":v.movableContainerLeftPos+"px"};u.incrementScrollLeft=function(){var w=this,v=w.stc;v.movableContainerLeftPos+=(v.fixedContainerWidth/a.SCROLL_OFFSET_FRACTION);if(v.movableContainerLeftPos>0){v.movableContainerLeftPos=0}else{if(v.scrollToTabEdge){w.setMovableContainerLeftPosToTabEdge("left");if(v.movableContainerLeftPos>0){v.movableContainerLeftPos=0}}}w.slideMovableContainerToLeftPos();return(v.movableContainerLeftPos===0)};u.incrementScrollRight=function(v){var x=this,w=x.stc;x.decrementMovableContainerLeftPos(v);x.slideMovableContainerToLeftPos();return(w.movableContainerLeftPos===v)};u.scrollToActiveTab=function(z){var y=this,x=y.stc,C,A,B,v,w;if(!x.scrollArrowsVisible){return}C=x.$tabsUl.find("li.active");if(!C.length){return}A=C.outerWidth();B=C.offset().left;v=x.$rightScrollArrow.offset().left;w=B+A-v;if(w>0){x.movableContainerLeftPos=(z.isOnWindowResize||z.isOnTabsRefresh)?(x.movableContainerLeftPos-w):-w;y.slideMovableContainerToLeftPos()}};u.setMovableContainerLeftPosToTabEdge=function(z){var w=this,v=w.stc,y=-v.movableContainerLeftPos,x=0;v.$tabsLiCollection.each(function(B){var A=e(this).width();x+=A;if(x>y){v.movableContainerLeftPos=(z==="left")?-(x-A):-x;return false}})};u.slideMovableContainerToLeftPos=function(){var w=this,v=w.stc,x;v.movableContainerLeftPos=v.movableContainerLeftPos/1;x=w.getMovableContainerCssLeftVal();v.$movableContainer.stop().animate({left:x},"slow",function y(){var z=w.getMinPos();if(v.movableContainerLeftPos<z){w.decrementMovableContainerLeftPos(z);v.$movableContainer.stop().animate({left:w.getMovableContainerCssLeftVal()},"fast")}})};u.startScrollLeft=function(){var w=this,v=w.stc;v.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,true);w.continueScrollLeft()};u.startScrollRight=function(){var w=this,v=w.stc;v.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,true);w.continueScrollRight(w.getMinPos())};u.stopScrollLeft=function(){var w=this,v=w.stc;v.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,false)};u.stopScrollRight=function(){var w=this,v=w.stc;v.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,false)}}(g.prototype));function s(u){var v=this;v.$tabsContainer=u;v.movableContainerLeftPos=0;v.scrollArrowsVisible=true;v.scrollToTabEdge=false;v.scrollMovement=new g(v);v.eventHandlers=new t(v);v.elementsHandler=new d(v)}(function(u){u.initTabs=function(w){var v=this,z=v.elementsHandler,y=v.scrollMovement;if(w.scrollToTabEdge){v.scrollToTabEdge=true}setTimeout(function x(){var A;z.initElements(w);A=z.refreshAllElementSizes();if(!A.didScrollToActiveTab){y.scrollToActiveTab({isOnTabsRefresh:w.isWatchingTabs})}},100)}}(s.prototype));var l=(function(){return{getElTabPaneForLi:v,getNewElNavTabs:y,getNewElScrollerElementWrappingNavTabsInstance:u,getNewElTabAnchor:A,getNewElTabContent:w,getNewElTabLi:x,getNewElTabPane:z};function v(B){return e(B.find("a").attr("href"))}function y(){return e('<ul class="nav nav-tabs" role="tablist"></ul>')}function u(D){var B=e('<div class="scrtabs-tab-container"></div>'),E=e('<div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>'),G=e('<div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>'),C=e('<div class="scrtabs-tabs-fixed-container"></div>'),F=e('<div class="scrtabs-tabs-movable-container"></div>');return B.append(E,C.append(F.append(D)),G)}function A(B,C){return e('<a role="tab" data-toggle="tab"></a>').attr("href","#"+B[C.paneId]).html(B[C.title])}function w(){return e('<div class="tab-content"></div>')
}function x(B,F,C){var E=e('<li role="presentation" class=""></li>'),D=A(B,F).appendTo(E);if(B[F.disabled]){E.addClass("disabled");D.attr("data-toggle","")}else{if(C&&B[F.active]){E.addClass("active")}}return E}function z(B,E,D){var C=e('<div role="tabpanel" class="tab-pane"></div>').attr("id",B[E.paneId]).html(B[E.content]);if(D&&B[E.active]){C.addClass("active")}return C}}());var q=(function(){return{didTabOrderChange:x,getIndexOfClosestEnabledTab:u,getTabIndexByPaneId:w,storeDataOnLiEl:v};function x(y,A,B){var z=false;y.each(function(D){var C=w(A,B.paneId,e(this).data("tab")[B.paneId]);if((C>-1)&&(C!==D)){z=true;return false}});return z}function u(y,C){var D=y.length-1,z=-1,B=0,A=0;while((z===-1)&&(A>=0)){if((((A=C+(++B))<=D)&&!y.eq(A).hasClass("disabled"))||(((A=C-B)>=0)&&!y.eq(A).hasClass("disabled"))){z=A}}return z}function w(B,A,z){var y=-1;B.some(function(D,C){if(D[A]===z){y=C;return true}});return y}function v(A,z,y){A.data({tab:e.extend({},z[y]),index:y})}}());function j(x,v){var y=v.tabs,C={paneId:v.propPaneId,title:v.propTitle,active:v.propActive,disabled:v.propDisabled,content:v.propContent},w=v.ignoreTabPanes,z=y.length&&y[0][C.content]!==undefined,B=l.getNewElNavTabs().appendTo(x),A=l.getNewElTabContent(),u;if(!y.length){return}y.forEach(function(E,D){l.getNewElTabLi(E,C,true).appendTo(B);if(!w&&z){l.getNewElTabPane(E,C,true).appendTo(A)}});u=k(B,v).after(A);x.data({scrtabs:{tabs:y,propNames:C,ignoreTabPanes:w,hasTabContent:z,scroller:u}});u.find(".nav-tabs > li").each(function(D){q.storeDataOnLiEl(e(this),y,D)})}function c(w){var x=w.updatedTabsArray,C=w.propNames,y=w.ignoreTabPanes,D=w.options,u=w.$currTabLis,B=w.$navTabs,z=y?null:w.$currTabContentPanesContainer,A=y?null:w.$currTabContentPanes,v=false;x.forEach(function(F,E){var I=u.find('a[href="#'+F[C.paneId]+'"]'),H=(E>=u.length),G;if(!I.length){v=true;I=l.getNewElTabLi(F,C,D.forceActiveTab);q.storeDataOnLiEl(I,x,E);if(H){I.appendTo(B)}else{I.insertBefore(u.eq(E))}if(!y&&F[C.content]!==undefined){G=l.getNewElTabPane(F,C,D.forceActiveTab);if(H){G.appendTo(z)}else{G.insertBefore(A.eq(E))}}}});return v}function o(x){var B=x.tabLi,z=x.ignoreTabPanes,A=B.$li,y=B.$contentPane,w=B.origTabData,u=B.newTabData,C=x.propNames,v=false;if(w[C.title]!==u[C.title]){A.find('a[role="tab"]').html(w[C.title]=u[C.title]);v=true}if(x.options.forceActiveTab){A[u[C.active]?"addClass":"removeClass"]("active");y[u[C.active]?"addClass":"removeClass"]("active");w[C.active]=u[C.active];v=true}if(!z&&w[C.content]!==u[C.content]){y.html(w[C.content]=u[C.content]);v=true}return v}function i(w){var v=w.tabLi,x=w.ignoreTabPanes,y=v.$li,u;if(v.newIdx!==-1){return false}if(y.hasClass("active")){u=q.getIndexOfClosestEnabledTab(w.$currTabLis,v.currDomIdx);if(u>-1){w.$currTabLis.eq(u).addClass("active");if(!x){w.$currTabContentPanes.eq(u).addClass("active")}}}y.remove();if(!x){v.$contentPane.remove()}return true}function m(w){var v=w.$currTabLis,u=w.updatedTabsArray,A=w.propNames,z=w.ignoreTabPanes,y=[],x=z?null:[];if(!q.didTabOrderChange(v,u,A)){return false}u.forEach(function(D,C){var B=D[A.paneId];y.push(v.find('a[role="tab"][href="#'+B+'"]').parent("li"));if(!z){x.push(e("#"+B))}});w.$navTabs.append(y);if(!z){w.$currTabContentPanesContainer.append(x)}return true}function n(x){var v=x.$currTabLis,u=x.updatedTabsArray,y=x.propNames,w=false;v.each(function(D){var C=e(this),B=C.data("tab"),z=q.getTabIndexByPaneId(u,y.paneId,B[y.paneId]),A=(z>-1)?u[z]:null;x.tabLi={$li:C,currDomIdx:D,newIdx:z,$contentPane:l.getElTabPaneForLi(C),origTabData:B,newTabData:A};if(i(x)){w=true;return}if(o(x)){w=true}});return w}function b(){var w=e(this),v=w.data("scrtabs"),u;if(!v){return}if(v.isWrapperOnly){u=w.parents(".scrtabs-tab-container");if(u.length){u.replaceWith(w)}}else{if(v.scroller&&v.scroller.initTabs){v.scroller.initTabs=null}w.find(".scrtabs-tab-container").add(".tab-content").remove()}w.removeData("scrtabs");e(h).off(a.EVENTS.WINDOW_RESIZE);e("body").off(a.EVENTS.FORCE_REFRESH)}function f(A,v){var w=A.data().scrtabs,u=w.scroller,B=A.find(".scrtabs-tab-container .nav-tabs"),z=A.find(".tab-content"),y=false,x={options:v,updatedTabsArray:w.tabs,propNames:w.propNames,ignoreTabPanes:w.ignoreTabPanes,$navTabs:B,$currTabLis:B.find("> li"),$currTabContentPanesContainer:z,$currTabContentPanes:z.find(".tab-pane")};if(c(x)){y=true}if(m(x)){y=true}if(n(x)){y=true}if(y){u.initTabs()}return y}function p(v,u){if(v.data("scrtabs").isWrapperOnly||!f(v,u)){e("body").trigger(a.EVENTS.FORCE_REFRESH)}}function k(v,w){var x=l.getNewElScrollerElementWrappingNavTabsInstance(v.clone(true)),u=new s(x);v.replaceWith(x);x.initTabs=function(){u.initTabs(w)};x.initTabs();return x}var r={destroy:function(){var u=this;return u.each(b)},init:function(u){var w=this,v=e.extend({},e.fn.scrollingTabs.defaults,u||{});if(!v.tabs){return w.each(function(){k(e(this).data({scrtabs:{isWrapperOnly:true}}),v)})}return w.each(function(){j(e(this),v)})},refresh:function(u){var w=this,v=e.extend({},e.fn.scrollingTabs.defaults,u||{});
return w.each(function(){p(e(this),v)})}};e.fn.scrollingTabs=function(u){if(r[u]){return r[u].apply(this,Array.prototype.slice.call(arguments,1))}else{if(!u||(typeof u==="object")){return r.init.apply(this,arguments)}else{e.error("Method "+u+" does not exist on $.scrollingTabs.")}}};e.fn.scrollingTabs.defaults={tabs:null,propPaneId:"paneId",propTitle:"title",propActive:"active",propDisabled:"disabled",propContent:"content",ignoreTabPanes:false,scrollToTabEdge:false,forceActiveTab:false}}(jQuery,window));
